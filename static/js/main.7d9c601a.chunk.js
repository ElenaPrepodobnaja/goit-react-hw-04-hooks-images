(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{32:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(5),o=n.n(a),i=(n(32),n(14)),l=n(4),s=(n(7),n(15)),u=n(25),d=n.n(u),b=(n(53),n(1));function h(){return Object(b.jsx)(d.a,{className:"Loader App-logo",type:"Circles",color:"#00BFFF",height:300,width:300,timeout:3e3})}var j=n(9),f=n(10),p=n(12),m=n(11),O=(n(55),n(56),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value.trim()})},e.handleSubmit=function(t){var n=e.state.query;t.preventDefault(),e.props.onSubmit(n),e.setState({query:""})},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.query;return Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{value:e,className:"SearchForm-input",name:"form_input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),n}(c.Component));n(57);function g(e){var t=e.onClick;return Object(b.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}var v=n(26),y=n.n(v),x=n(2),w=n.n(x),C=function(e,t){return y.a.get("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("22622194-9ff4545401c35c3e57910f120","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))};C.propTypes={query:w.a.string.isRequired,currentPage:w.a.number.isRequired};var k=C,S=(n(76),n(77),Object(c.createContext)());n(78);function N(e){var t=e.gallery;return Object(b.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL,r=e.previewURL;return Object(b.jsx)("li",{className:"ImageGalleryItem",children:Object(b.jsx)(S.Consumer,{children:function(e){return Object(b.jsx)("img",{src:r,"data-src":n,alt:"searchedPicture","data-large":c,className:"ImageGalleryItem-image lazyload blur-up",onClick:e})}})},"id-".concat(t))}(e)}))})}n(79);function L(e){var t=e.children;return Object(b.jsx)("div",{className:"Section",children:t})}n(80);var F=n(16),I=n(27),P=(n(81),["children","onClick"]),B=function(e){var t=e.children,n=e.onClick,c=Object(I.a)(e,P);return Object(b.jsx)("button",Object(F.a)(Object(F.a)({type:"button",className:"IconButton",onClick:n},c),{},{children:t}))};B.defaultProps={onClick:function(){return null},children:null};var _,q=B,E=["title","titleId"];function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D(e,t){var n=e.title,r=e.titleId,a=T(e,E);return c.createElement("svg",M({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,_||(_=c.createElement("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})))}var R=c.forwardRef(D),z=(n.p,document.querySelector("#modal-root")),A=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handelBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(a.createPortal)(Object(b.jsx)("div",{className:"Modal__backdrop",onClick:this.handelBackdropClick,children:Object(b.jsxs)("div",{className:"Modal__content",children:[Object(b.jsx)(q,{className:"Modal__close IconButton","aria-label":"Close Modal icon",onClick:this.props.onClose,children:Object(b.jsx)(R,{width:"32",height:"32",fill:"#black"})}),this.props.children]})}),z)}}]),n}(c.Component);n(82);function G(){return Object(b.jsx)("div",{className:"emptyField",children:Object(b.jsx)("h2",{className:"emptyField__text",children:"It's so empty, enter some request and enjoy hundreds of pictures!"})})}function U(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(l.a)(a,2),u=o[0],d=o[1],j=Object(c.useState)(1),f=Object(l.a)(j,2),p=f[0],m=f[1],v=Object(c.useState)(!1),y=Object(l.a)(v,2),x=y[0],w=y[1],C=Object(c.useState)(!1),F=Object(l.a)(C,2),I=F[0],P=F[1],B=Object(c.useState)(null),_=Object(l.a)(B,2),q=(_[0],_[1]),E=Object(c.useState)(""),M=Object(l.a)(E,2),T=M[0],D=M[1],R=Object(c.useState)(""),z=Object(l.a)(R,2),U=z[0],K=z[1];Object(c.useEffect)((function(){H()}),[u]);var H=function(){P(!0),k(u,p).then((function(e){r((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),m((function(e){return e+1}))})).catch((function(e){return q(e)})).finally((function(){J(),P(!1)}))},J=function(){if(m>2){var e={top:null,behavior:"smooth"};e.top=window.pageYOffset+document.documentElement.clientHeight,setTimeout((function(){window.scrollTo(e)}),1e3)}};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{onSubmit:function(e){if(e!==u&&(r([]),d(e),m(1),q(null)),e);else{s.b.info("\ud83d\ude80 Search field is empty!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0})}}}),0===n.length&&Object(b.jsx)(G,{}),Object(b.jsx)(s.a,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,draggablePercent:60}),I&&Object(b.jsx)(L,{children:Object(b.jsx)(h,{})}),Object(b.jsx)(S.Provider,{value:function(e){if("IMG"===e.target.nodeName){e.preventDefault();var t=e.target.getAttribute("data-large"),n=e.target.getAttribute("src");D(t),K(n),w(!0)}},children:u&&Object(b.jsx)(N,{gallery:n})}),x&&Object(b.jsx)(A,{onClose:function(){w((function(e){return!e})),w&&(document.body.style.overflowY="hidden")},children:Object(b.jsx)("img",{src:U,"data-src":T,alt:"fullsizeImage",className:"lazyload blur-up"})}),Object(b.jsx)(L,{children:u&&n.length>11&&Object(b.jsx)(g,{onClick:H})})]})}var K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};n(83);o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(U,{})}),document.getElementById("root")),K()}},[[84,1,2]]]);
//# sourceMappingURL=main.7d9c601a.chunk.js.map